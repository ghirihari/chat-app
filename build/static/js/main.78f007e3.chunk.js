(this["webpackJsonpchat-room"]=this["webpackJsonpchat-room"]||[]).push([[0],{113:function(e,t,s){"use strict";s.r(t);var a=s(3),c=s.n(a),n=s(19),i=s.n(n),l=(s(70),s(6)),r=s(7),o=s(10),d=s(9),u=(s(20),s(33)),h=s(13),j=s(2),m=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).usernameTyped=function(t){e.setState({username:t.target.value})},e.roomTyped=function(t){e.setState({room:t.target.value})},e.joinroom=function(){e.setState({redirect:!0})},e.state={username:"",room:"",redirect:!1},e}return Object(r.a)(s,[{key:"render",value:function(){return this.state.redirect?Object(j.jsx)(h.a,{to:"/room/"+this.state.room+"/"+this.state.username}):Object(j.jsx)("div",{className:"container join-form",children:Object(j.jsxs)("div",{className:"col-lg-4 col-sm-12",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{className:"form-control",placeholder:"Enter Username",onChange:this.usernameTyped})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Room Id"}),Object(j.jsx)("input",{className:"form-control",placeholder:"Enter Room ID",onChange:this.roomTyped})]}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("button",{className:"form-control btn btn-warning",onClick:this.joinroom,children:"Join"})})]})})}}]),s}(c.a.Component),p=s(61),b=s.n(p),g=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).select=function(t){e.setState({selected:t}),e.props.setRec(t)},e.state={selected:null},e}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"col-12 messages_list_group",children:0===this.props.users.length?Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h5",{children:Object(j.jsx)("span",{className:"badge badge-danger",children:"No Chats Found"})})}):Object(j.jsx)("div",{className:"messages-list",children:this.props.users.map((function(t,s){var a=Object.entries(e.props.chatData[t.id]).length,c=Object.entries(e.props.chatData[t.id])[a-1][1].text;return c.length>35&&(c=c.slice(0,35)+"..."),Object(j.jsxs)("div",{id:"message-list-"+t.id,onClick:function(){return e.select(t)},className:"row messages_list_item shadow",children:[Object(j.jsx)("div",{className:"col-2",style:{padding:"0px"},children:Object(j.jsx)("img",{alt:"DP",className:"listDP",src:t.displayPicture})}),Object(j.jsxs)("div",{className:"col-10",style:{alignSelf:"center"},children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("p",{className:"message-list-name",children:t.displayName})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("div",{className:"time",children:Object(j.jsx)("p",{style:{marginBottom:"0px"},children:c})})})]}),"request"!==e.props.type&&Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("label",{className:"prev_message",children:"Good Morning! Good Morning!"})})})]})]},s)}))})})}}]),s}(c.a.Component),x=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).componentDidMount=function(){a.socket=b()("http://localhost:5000"),a.socket.emit("joinroom",a.userid),a.socket.on("occupants",(function(e){console.log(e),a.setState({occupants:e})})),a.socket.on("message_received",(function(e){console.log(e),a.setState({sms:a.state.sms.concat(e)})}))},a.messageTyped=function(e){a.setState({message:e.target.value})},a.sendMessage=function(){var e=new Date,t=e.getHours()+":"+e.getMinutes();a.socket.emit("message",{sender:a.userid,time:t,message:a.state.message})},a.state={occupants:[],message:null,sms:[]},a.roomid=a.props.match.params.roomid,a.userid=a.props.match.params.userid,a}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"row",style:{height:"100vh"},children:[Object(j.jsx)("div",{className:"col-3 contacts_col d-none d-lg-block",children:Object(j.jsx)("div",{children:Object(j.jsx)(g,{users:this.state.occupants})})}),Object(j.jsx)("div",{className:"col-lg-9 col-md-12",style:{padding:"0px"},children:Object(j.jsxs)("div",{className:"chat-col",children:[Object(j.jsxs)("div",{className:"chat-title shadow",children:[Object(j.jsx)("div",{className:"chatDP_frame"}),Object(j.jsxs)("div",{style:{alignSelf:"center",paddingLeft:"10px"},children:[Object(j.jsx)("h5",{style:{marginBottom:"0px"},children:this.roomid}),Object(j.jsxs)("label",{style:{fontSize:"smaller"},children:[this.state.occupants.length," Online"]})]})]}),Object(j.jsx)("div",{className:"chat-messages",children:this.state.sms.map((function(t,s){console.log(t.sender,e.userid);var a=t.sender!==e.userid?"left":"right-bubble";return Object(j.jsx)("div",{className:a,children:Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{className:"bubble-message-name",children:[t.sender," \xb7 ",t.time]}),Object(j.jsx)("div",{className:"bubble sender shadow",children:Object(j.jsx)("label",{className:"bubble-message",children:t.message})})]},s)})},s)}))}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"input-group message-input",children:[Object(j.jsx)("input",{type:"text",className:"form-control",style:{height:"50px"},placeholder:"Enter Message",onChange:this.messageTyped}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{className:"btn btn-primary",type:"button",onClick:this.sendMessage,children:"Send"})})]})})]})})]})})}}]),s}(c.a.Component),f=s(44),O=s.n(f),v=s(62),N=s(64),y=(s(112),N.a.initializeApp({apiKey:"AIzaSyDqtvna4fTwx3IU3aLAXu5JlY6_aSz_0Ds",authDomain:"mc-chat-2e403.firebaseapp.com",databaseURL:"https://mc-chat-2e403-default-rtdb.firebaseio.com",projectId:"mc-chat-2e403",storageBucket:"mc-chat-2e403.appspot.com",messagingSenderId:"579190295032",appId:"1:579190295032:web:08736623bdb7e0776cae0d"})),w=s.p+"static/media/pew.bbd2dc17.jpg",S=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).usernameTyped=function(t){e.setState({username:t.target.value})},e.emailTyped=function(t){e.setState({email:t.target.value})},e.passTyped=function(t){e.setState({pass:t.target.value})},e.register=function(){e.setState({btnStatus:"Registering",btnClass:"btn-success"}),y.auth().createUserWithEmailAndPassword(e.state.email,e.state.pass).then(function(){var t=Object(v.a)(O.a.mark((function t(s){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.user,t.next=3,e.addUserData(a.uid,e.state.username);case 3:t.sent,e.setState({btnStatus:"Registered",btnClass:"btn-success"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState({error:t})}))},e.addUserData=function(e,t){return new Promise((function(s,a){var c=new Date;y.database().ref("users/"+e).set({joined:c.getTime(),displayName:t},(function(e){s(e?{status:"500",message:e}:{status:"200",message:"Registered"})}))}))},e.fileUpload=function(t){var s=t.target.files[0];e.getBase64(s,(function(e){console.log("base64",e)}))},e.state={username:null,email:null,pass:null,room:"",redirect:!1,btnStatus:"Register",btnClass:"btn btn-primary",login:!1},e}return Object(r.a)(s,[{key:"getBase64",value:function(e,t){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){t(s.result)},s.onerror=function(e){console.log("Error: ",e)}}},{key:"render",value:function(){var e=this;return"Registered"===this.state.btnStatus?Object(j.jsx)(h.a,{to:"/chats"}):this.state.login?Object(j.jsx)(h.a,{to:"/login"}):Object(j.jsx)("div",{className:"container join-form",children:Object(j.jsxs)("div",{className:"col-lg-6 col-sm-12",children:[Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h3",{className:"title_font",children:"Instance"})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-lg-6 col-sm-12",style:{alignSelf:"center"},children:Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("img",{id:"UserDP",alt:"DP",className:"updateDP",src:w}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-outline-light changeDP",children:"Change Profile Picture"})})]})}),Object(j.jsxs)("div",{className:"col-lg-6 col-sm-12",children:[Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{className:"form-control",placeholder:"Username",onChange:this.usernameTyped})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{className:"form-control",placeholder:"Email ID",onChange:this.emailTyped})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{className:"form-control",placeholder:"Password",onChange:this.passTyped})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("button",{className:"form-control "+this.state.btnClass,onClick:this.register,children:this.state.btnStatus})}),this.state.error&&Object(j.jsx)("div",{className:"form-group error-card",children:Object(j.jsx)("p",{className:"paragraphs",children:this.state.error.message})}),Object(j.jsxs)("div",{className:"form-group signup-card",children:[Object(j.jsx)("p",{className:"paragraphs",children:"Already a member? "}),Object(j.jsx)("a",{role:"button",style:{color:"#0056b3",cursor:"pointer"},onClick:function(){return e.setState({login:!0})},children:"Log in"})]})]})]})]})})}}]),s}(c.a.Component),C=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).emailTyped=function(t){e.setState({email:t.target.value})},e.passTyped=function(t){e.setState({pass:t.target.value})},e.login=function(){e.setState({btnStatus:"Logging in",btnClass:"btn btn-success",error:null}),y.auth().signInWithEmailAndPassword(e.state.email,e.state.pass).then((function(t){e.setState({redirect:!0})})).catch((function(t){e.setState({btnStatus:"Log in",btnClass:"btn btn-primary"}),e.setState({error:t})}))},e.componentDidMount=function(){},e.state={email:null,pass:null,redirect:!1,btnStatus:"Log in",btnClass:" btn btn-primary",error:null,signup:!1},e}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return this.state.redirect?Object(j.jsx)(h.a,{to:"/chats/"}):this.state.signup?Object(j.jsx)(h.a,{to:"/signup/"}):Object(j.jsx)("div",{className:"container join-form",children:Object(j.jsxs)("div",{className:"col-lg-4 col-sm-12",children:[Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h1",{className:"title_font",children:"Instance"})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{className:"form-control login-input-field",placeholder:"Email ID",onChange:this.emailTyped})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("input",{type:"password",className:"form-control login-input-field",placeholder:"Password",onChange:this.passTyped})}),this.state.error&&Object(j.jsx)("div",{className:"form-group error-card",children:Object(j.jsx)("p",{className:"paragraphs",children:this.state.error.message})}),Object(j.jsx)("div",{className:"form-group",children:Object(j.jsx)("button",{className:"form-control "+this.state.btnClass,onClick:this.login,children:this.state.btnStatus})}),Object(j.jsxs)("div",{className:"form-group signup-card",children:[Object(j.jsx)("p",{className:"paragraphs",children:"Don't have an account? "}),Object(j.jsx)("a",{role:"button",style:{color:"#0056b3",cursor:"pointer"},onClick:function(){return e.setState({signup:!0})},children:"Sign up"})]})]})})}}]),s}(c.a.Component),D=s.p+"static/media/Tone.f4570310.mp3",k=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:"smooth"})},a.messageTyped=function(e){a.setState({message:e.target.value})},a.sendMessage=function(){a.setState({sent:!0}),fetch("https://garnet-gregarious-robe.glitch.me/send?from="+a.props.userid+"&to="+a.props.name.id+"&message="+a.state.message).then((function(e){return e.json()})).then((function(e){200===e.status?a.setState({message:""}):404===e.status&&console.error(e)}))},a.ren=function(){a.chats=y.database().ref("users/"+a.props.userid+"/messages/"+a.props.name.id);var e=[];a.chats.on("child_added",(function(t){var s=t.val(),c=new Date(s.time).toLocaleTimeString(),n={sender:s.from,time:c,message:s.text};e.concat(n),a.setState({messages:a.state.messages.concat(n)})})),a.scrollToBottom()},a.componentDidMount=function(){a.audioEl=document.getElementById("tone")},a.state={message:"",messages:[],sent:!1},a}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(e,t){e.data!=this.props.data&&(console.log("sent",this.state.sent),1==this.state.sent?this.setState({sent:!1}):this.audioEl.play()),this.scrollToBottom()}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"chat-col",children:[Object(j.jsx)("audio",{id:"tone",className:"audio-element",children:Object(j.jsx)("source",{src:D})}),Object(j.jsxs)("div",{className:"chat-title shadow",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(j.jsx)("div",{onClick:function(){return e.props.unSetRec()},children:Object(j.jsx)("svg",{className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492 492",children:Object(j.jsx)("path",{d:"M198.608 246.104L382.664 62.04c5.068-5.056 7.856-11.816 7.856-19.024 0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12C361.476 2.792 354.712 0 347.504 0s-13.964 2.792-19.028 7.864L109.328 227.008c-5.084 5.08-7.868 11.868-7.848 19.084-.02 7.248 2.76 14.028 7.848 19.112l218.944 218.932c5.064 5.072 11.82 7.864 19.032 7.864 7.208 0 13.964-2.792 19.032-7.864l16.124-16.12c10.492-10.492 10.492-27.572 0-38.06L198.608 246.104z"})})}),Object(j.jsx)("div",{className:"chatDP_frame",children:Object(j.jsx)("img",{alt:"DP",className:"chatDP",src:this.props.name.displayPicture})}),Object(j.jsx)("div",{style:{display:"block",alignSelf:"center",paddingLeft:"10px",flexGrow:"1"},children:Object(j.jsx)("h5",{className:"recepient_name",style:{marginBottom:"0px"},children:this.props.name.displayName})})]}),Object(j.jsxs)("div",{className:"chat-messages",children:[Object.entries(this.props.data[this.props.name.id]).map((function(t,s){var a=t[1],c=new Date(a.time).toLocaleTimeString(),n=a.from!==e.props.userid?"left":"right-bubble";return Object(j.jsx)("div",{className:n,children:Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{className:"bubble-message-name",children:c}),Object(j.jsx)("div",{className:"bubble sender shadow",children:Object(j.jsx)("label",{className:"bubble-message",children:a.text})})]},s)})},s)})),Object(j.jsx)("div",{style:{float:"left",clear:"both"},ref:function(t){e.messagesEnd=t}})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"input-group message-input",children:[Object(j.jsx)("input",{type:"text",className:"form-control",style:{height:"50px"},placeholder:"Enter Message",value:this.state.message,onChange:this.messageTyped}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{className:"btn btn-white",type:"button",onClick:this.sendMessage,children:Object(j.jsx)("svg",{fill:"black",height:30,viewBox:"0 0 24 24",width:30,xmlns:"http://www.w3.org/2000/svg",children:Object(j.jsx)("path",{d:"M8.75 17.612v4.638a.751.751 0 001.354.444l2.713-3.692zM23.685.139a.75.75 0 00-.782-.054l-22.5 11.75a.752.752 0 00.104 1.375l6.255 2.138 13.321-11.39L9.775 16.377l10.483 3.583a.753.753 0 00.984-.599l2.75-18.5a.751.751 0 00-.307-.722z"})})})})]})})]})}}]),s}(c.a.Component),P=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(l.a)(this,s),(e=t.call(this)).fileUpload=function(t){e.setState({btnState:"Uploading",btnClass:"btn btn-warning"});var s=t.target.files[0];e.getBase64(s,(function(e){console.log("base64 Loaded")}));var a=(new Date).getTime(),c=y.storage().ref().child("posts/"+e.props.user.uid+"/"+a).put(s);c.on("state_changed",(function(e){}),(function(e){}),(function(){c.snapshot.ref.getDownloadURL().then((function(t){y.database().ref("posts/"+e.props.user.uid).push({image:t,time:(new Date).getTime()}).then((function(){console.log("Saved at",t),e.setState({btnState:"Uploaded",btnClass:"btn btn-success"})}))}))}))},e.setMe=function(){var t={id:e.props.user.uid,displayName:e.props.user.displayName,displayPicture:e.props.user.photoURL};e.props.setWall(t)},e.state={btnState:"Add Post",btnClass:"btn btn-dark"},e}return Object(r.a)(s,[{key:"getBase64",value:function(e,t){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){t(s.result)},s.onerror=function(e){console.log("Error: ",e)}}},{key:"render",value:function(){var e=this;return Object(j.jsx)("div",{className:"col",style:{marginTop:"10px"},children:Object(j.jsx)("div",{children:Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{hidden:!0,id:"icon-button-file",type:"file",onChange:this.fileUpload}),Object(j.jsx)("label",{htmlFor:"icon-button-file",style:{width:"100%"},className:"btn btn-dark",children:this.state.btnState})]}),Object(j.jsxs)("div",{id:this.props.user.uid,onClick:function(){e.setMe()},className:"row messages_list_item shadow ",children:[Object(j.jsx)("div",{className:"col-2",style:{padding:"0px"},children:this.props.user.photoURL?Object(j.jsx)("img",{alt:"DP",className:"listDP",src:this.props.user.photoURL}):Object(j.jsx)("img",{alt:"DP",className:"listDP",src:w})}),Object(j.jsx)("div",{className:"col",style:{alignSelf:"center"},children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("p",{className:"message-list-name",style:{textAlign:"start"},children:"You"})})})})]},this.props.user.id),this.props.friends.map((function(t,s){return Object(j.jsxs)("div",{id:t.id,onClick:function(){e.props.setWall(t)},className:"row messages_list_item shadow ",children:[Object(j.jsx)("div",{className:"col-2",style:{padding:"0px"},children:Object(j.jsx)("img",{alt:"DP",className:"listDP",src:t.displayPicture})}),Object(j.jsx)("div",{className:"col",style:{alignSelf:"center"},children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-12",children:Object(j.jsx)("p",{className:"message-list-name",style:{textAlign:"start"},children:t.displayName})})})})]},s)}))]})})})}}]),s}(c.a.Component),M=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"col",style:{marginTop:"10px"},children:[Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-dark ListButtons",onClick:function(){return e.props.setSettings("Edit")},children:"Edit Profile"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-dark ListButtons",onClick:function(){return e.props.setSettings("password")},children:"Change Password"})}),Object(j.jsx)("div",{children:Object(j.jsx)("button",{className:"btn btn-danger ListButtons",onClick:this.props.logout,children:"Logout"})})]})}}]),s}(c.a.Component),L=s(65),U=function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"map-marker",children:[Object(j.jsx)("img",{alt:"DP",src:e.dp,className:"map-marker-dp"}),Object(j.jsx)("span",{className:"badge badge-dark",style:{fontSize:"small"},children:e.text})]})})},A=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).fetchFriends=function(){fetch("https://garnet-gregarious-robe.glitch.me/friends?uid="+a.props.uid).then((function(e){return e.json()})).then((function(e){var t=[];e.map((function(e,s){y.database().ref("location/"+e.id).once("value",(function(s){s.val()&&(t=t.concat({id:e.id,displayName:e.displayName,displayPicture:e.displayPicture,location:s.val()}),a.setState({friends:t}))}))}))}))},a.componentDidMount=function(){a.fetchFriends()},a.state={message:null,messages:[],friends:[]},a}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"chat-col",style:{justifyContent:"center"},children:[Object(j.jsxs)("div",{className:"chat-title shadow",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"75px",textAlign:"center"},children:[Object(j.jsx)("div",{onClick:function(){return e.props.unSetMapMode()},children:Object(j.jsx)("svg",{className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492 492",children:Object(j.jsx)("path",{d:"M198.608 246.104L382.664 62.04c5.068-5.056 7.856-11.816 7.856-19.024 0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12C361.476 2.792 354.712 0 347.504 0s-13.964 2.792-19.028 7.864L109.328 227.008c-5.084 5.08-7.868 11.868-7.848 19.084-.02 7.248 2.76 14.028 7.848 19.112l218.944 218.932c5.064 5.072 11.82 7.864 19.032 7.864 7.208 0 13.964-2.792 19.032-7.864l16.124-16.12c10.492-10.492 10.492-27.572 0-38.06L198.608 246.104z"})})}),Object(j.jsx)("div",{style:{display:"block",alignSelf:"center",paddingLeft:"10px",flexGrow:"1"},children:Object(j.jsx)("h5",{className:"recepient_name",style:{marginBottom:"0px"},children:"Maps"})})]}),Object(j.jsx)(L.a,{bootstrapURLKeys:{key:"AIzaSyB9DoWtMzN1UUmWdhqWJ9MSQQAMvC3pSww"},defaultCenter:{lat:11.01,lng:77},defaultZoom:12,children:this.state.friends.map((function(e,t){return console.log(e.location.latitude),Object(j.jsx)(U,{lat:e.location.latitude,lng:e.location.longitude,text:e.displayName,dp:e.displayPicture},e.id)}))})]})}}]),s}(c.a.Component);function T(e){var t,s=new Date,a=new Date(e.id.time),c=s.getTime()-a.getTime();return t=Math.round(c/864e5),Object(j.jsxs)("div",{className:"row messages_list_item shadow",children:[Object(j.jsx)("div",{className:"col-4",style:{padding:"0px"},children:Object(j.jsx)("img",{alt:"DP",className:"friend-tile",src:e.id.displayPicture})}),Object(j.jsxs)("div",{className:"col-8",style:{alignSelf:"center"},children:[Object(j.jsx)("label",{className:"friends-list-name",children:e.id.displayName}),Object(j.jsx)("label",{className:"",style:{display:"block"},children:e.id.email}),Object(j.jsx)("label",{className:"badge badge-pill badge-danger",children:" \u2665 "+t+" Days"})]})]})}function _(e){return e.friends?Object(j.jsx)("div",{className:"row",children:e.friends.map((function(e,t){return Object(j.jsx)("div",{className:"col-6",children:Object(j.jsx)(T,{id:e})},e.id)}))}):Object(j.jsx)(j.Fragment,{children:"Loading"})}var z=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).fetchFriends=function(){fetch("https://garnet-gregarious-robe.glitch.me/friends?uid="+a.props.uid).then((function(e){return e.json()})).then((function(e){a.setState({friends:e,length:e.length})}))},a.componentDidMount=function(){a.fetchFriends()},a.state={friends:[],length:0},a}return Object(r.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{className:"chat-col",children:[Object(j.jsxs)("div",{className:"chat-title shadow",style:{display:"flex",alignItems:"center",padding:"15px"},children:[Object(j.jsx)("div",{children:Object(j.jsx)("svg",{style:{width:"50px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(j.jsx)("path",{d:"M155.327 57.142c-51.531 0-93.454 44.45-93.454 99.086 0 54.636 41.923 99.086 93.454 99.086s93.455-44.45 93.455-99.086c0-54.636-41.923-99.086-93.455-99.086zM367.798 71.321l-.636.002c-21.626.179-41.826 9.31-56.878 25.713-14.788 16.113-22.829 37.37-22.644 59.854.186 22.484 8.577 43.605 23.628 59.473 15.17 15.991 35.265 24.773 56.651 24.773l.646-.002c21.626-.179 41.826-9.311 56.878-25.713 14.788-16.113 22.829-37.37 22.644-59.855-.385-46.594-36.34-84.245-80.289-84.245zM371.74 257.358h-7.76c-36.14 0-69.12 13.74-94.02 36.26a180.71 180.71 0 0117.78 15.61c16.58 16.58 29.6 35.9 38.7 57.42 8.2 19.38 12.88 39.8 13.97 60.83H512v-29.87c0-77.33-62.92-140.25-140.26-140.25zM310.35 427.478c-2.83-45.59-25.94-85.69-60.43-111.39-25.09-18.7-56.21-29.77-89.92-29.77h-9.34C67.45 286.319 0 353.768 0 436.978v17.88h310.65v-17.88c0-3.19-.1-6.36-.3-9.5z"})})}),Object(j.jsxs)("div",{style:{alignSelf:"center",paddingLeft:"10px",flexGrow:"1"},children:[Object(j.jsx)("h5",{className:"recepient_name",style:{marginBottom:"0px"},children:"Friends List"}),Object(j.jsxs)("label",{style:{fontSize:"smaller",marginBottom:"0px"},children:[this.state.length," Friends"]})]})]}),Object(j.jsx)("div",{className:"col",style:{overflowY:"scroll"},children:Object(j.jsx)(_,{friends:this.state.friends})})]})}}]),s}(c.a.Component),F=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).usernameTyped=function(e){a.setState({username:e.target.value})},a.emailTyped=function(e){a.setState({email:e.target.value})},a.oldPassTyped=function(e){a.setState({oldPass:e.target.value})},a.newPassTyped=function(e){a.setState({newPass:e.target.value})},a.fetchUserData=function(){a.setState({searched:null,error:null}),fetch("https://garnet-gregarious-robe.glitch.me/FetchUser?uid="+a.props.uid).then((function(e){return e.json()})).then((function(e){200===e.status?(a.setState({record:e.record,username:e.record.displayName,email:e.record.email}),y.storage().ref("dp/"+a.props.uid+".jpg").getDownloadURL().then((function(e){a.setState({downloadUrl:e})})).catch((function(e){console.log(e)}))):404===e.status&&a.setState({error:"User Not Found"})}))},a.componentDidMount=function(){a.fetchUserData()},a.fileUpload=function(e){a.setState({dpStatus:"Uploading"});var t=e.target.files[0];a.getBase64(t,(function(e){console.log("base64 Loaded"),document.getElementById("UserDP").src=e}));var s=y.storage().ref().child("dp/"+a.props.uid+".jpg").put(t);s.on("state_changed",(function(e){}),(function(e){}),(function(){s.snapshot.ref.getDownloadURL().then((function(e){y.auth().currentUser.updateProfile({photoURL:e}).then((function(){console.log("Saved at",e),a.setState({dpStatus:"Uploaded",dpClass:"btn btn-success"})})).catch((function(e){console.log("error",e)}))}))}))},a.updateProfile=function(){fetch("https://garnet-gregarious-robe.glitch.me/UpdateUser?uid="+a.props.uid+"&displayName="+a.state.username+"&email="+a.state.email).then((function(e){return e.json()})).then((function(e){200===e.status?a.setState({status:{class:"btn btn-success",text:"Updated"},record:e.record,username:e.record.displayName,email:e.record.email}):404===e.status&&a.setState({error:"User Not Found"})}))},a.updatePass=function(){fetch("https://garnet-gregarious-robe.glitch.me/UpdatePass?uid="+a.props.uid+"&oldPass="+a.state.oldPass+"&newPass="+a.state.newPass).then((function(e){return e.json()})).then((function(e){200===e.status?(console.log("Success"),a.setState({PassStatus:{class:"btn btn-success",text:"Updated"}})):404===e.status&&a.setState({error:"User Not Found"})}))},a.state={message:null,messages:[],record:{displayName:null,email:null,photoURL:null},downloadUrl:w,username:null,email:null,oldPass:null,newPass:null,status:{text:"Update",class:"btn btn-primary"},PassStatus:{text:"Change Password",class:"btn btn-danger"},dpStatus:"Change Profile Picture",dpClass:"btn btn-warning"},a}return Object(r.a)(s,[{key:"getBase64",value:function(e,t){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){t(s.result)},s.onerror=function(e){console.log("Error: ",e)}}},{key:"render",value:function(){var e,t=this;return e="Edit"===this.props.menu?"Edit Profile":"Change Password",Object(j.jsxs)("div",{className:"chat-col",children:[this.props.menu?Object(j.jsxs)("div",{className:"chat-title shadow",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"75px",textAlign:"center"},children:[Object(j.jsx)("div",{onClick:function(){return t.props.unSetSettings()},children:Object(j.jsx)("svg",{className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492 492",children:Object(j.jsx)("path",{d:"M198.608 246.104L382.664 62.04c5.068-5.056 7.856-11.816 7.856-19.024 0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12C361.476 2.792 354.712 0 347.504 0s-13.964 2.792-19.028 7.864L109.328 227.008c-5.084 5.08-7.868 11.868-7.848 19.084-.02 7.248 2.76 14.028 7.848 19.112l218.944 218.932c5.064 5.072 11.82 7.864 19.032 7.864 7.208 0 13.964-2.792 19.032-7.864l16.124-16.12c10.492-10.492 10.492-27.572 0-38.06L198.608 246.104z"})})}),Object(j.jsx)("div",{style:{display:"block",alignSelf:"center",paddingLeft:"10px",flexGrow:"1"},children:Object(j.jsx)("h5",{className:"recepient_name",style:{marginBottom:"0px"},children:e})})]}):Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h1",{className:"title_font",style:{color:"black",fontSize:"100px"},children:"Settings"})}),"Edit"===this.props.menu&&Object(j.jsxs)("div",{className:"update-form",children:[Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("img",{id:"UserDP",alt:"DP",className:"updateDP",src:this.state.downloadUrl}),Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{hidden:!0,id:"icon-button-file",type:"file",onChange:this.fileUpload}),Object(j.jsx)("label",{htmlFor:"icon-button-file",className:this.state.dpClass,style:{marginTop:"10px"},children:this.state.dpStatus})]})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Username"}),Object(j.jsx)("input",{className:"form-control",placeholder:"Enter Username",value:this.state.username,onChange:this.usernameTyped}),Object(j.jsx)("small",{id:"usernameHelp",className:"form-text text-muted",children:"Should only contain letters and be within 30 characters."})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Email ID"}),Object(j.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:this.state.email,onChange:this.emailTyped}),Object(j.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"Should be a valid email address."})]}),Object(j.jsx)("div",{style:{textAlign:"end"},children:Object(j.jsx)("button",{type:"submit",className:this.state.status.class,onClick:this.updateProfile,children:this.state.status.text})})]}),"password"===this.props.menu&&Object(j.jsxs)("div",{className:"update-form",children:[Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"Old Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",placeholder:"New Password",onChange:this.oldPassTyped}),Object(j.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Should have more than 8 characters."})]}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{children:"New Password"}),Object(j.jsx)("input",{type:"password",className:"form-control",placeholder:"New Password",onChange:this.newPassTyped}),Object(j.jsx)("small",{id:"passwordHelp",className:"form-text text-muted",children:"Should have more than 8 characters."})]}),Object(j.jsx)("div",{style:{textAlign:"end"},children:Object(j.jsx)("button",{type:"submit",className:this.state.PassStatus.class,onClick:this.updatePass,children:this.state.PassStatus.text})})]})]})}}]),s}(c.a.Component);function B(e){var t=new Date(e.time),s=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]+" "+t.getDate()+","+t.getFullYear();return Object(j.jsxs)("div",{className:"col post shadow",children:[Object(j.jsx)("div",{className:"post-image-container",children:Object(j.jsx)("img",{alt:"DP",className:"post-image",src:e.postURL})}),Object(j.jsx)("div",{className:"post-caption",children:Object(j.jsx)("label",{style:{display:"block",textAlign:"center"},children:s})})]})}var R=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"col chat-col",style:{overflowY:"scroll"},children:[!this.props.name&&Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h1",{className:"title_font",style:{color:"black",fontSize:"100px"},children:"Posts"})}),this.props.name&&Object(j.jsxs)("div",{className:"chat-col",children:[Object(j.jsxs)("div",{className:"chat-title shadow",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(j.jsx)("div",{onClick:function(){return e.props.unSetWall()},children:Object(j.jsx)("svg",{className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 492 492",children:Object(j.jsx)("path",{d:"M198.608 246.104L382.664 62.04c5.068-5.056 7.856-11.816 7.856-19.024 0-7.212-2.788-13.968-7.856-19.032l-16.128-16.12C361.476 2.792 354.712 0 347.504 0s-13.964 2.792-19.028 7.864L109.328 227.008c-5.084 5.08-7.868 11.868-7.848 19.084-.02 7.248 2.76 14.028 7.848 19.112l218.944 218.932c5.064 5.072 11.82 7.864 19.032 7.864 7.208 0 13.964-2.792 19.032-7.864l16.124-16.12c10.492-10.492 10.492-27.572 0-38.06L198.608 246.104z"})})}),Object(j.jsx)("div",{className:"chatDP_frame",children:Object(j.jsx)("img",{alt:"DP",className:"chatDP",src:this.props.name.displayPicture})}),Object(j.jsx)("div",{style:{display:"block",alignSelf:"center",paddingLeft:"10px",flexGrow:"1"},children:Object(j.jsx)("h5",{className:"recepient_name",style:{marginBottom:"0px"},children:this.props.name.displayName})})]}),this.props.wallData&&"None"!==this.props.wallData&&Object(j.jsx)("div",{className:"col chat-messages",children:Object(j.jsx)("div",{className:"",style:{display:"flex",flexFlow:"row wrap"},children:Object.entries(this.props.wallData).map((function(t,s){return Object(j.jsx)(B,{postURL:t[1].image,time:t[1].time,name:e.props.wall.displayName},t[1].image)}))})}),"None"===this.props.wallData&&Object(j.jsx)("div",{className:"chat-col",style:{justifyContent:"center"},children:Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h2",{className:"badge badge-danger",style:{fontSize:"20px",marginTop:"-25px",fontStyle:"italic"},children:"No Posts Yet!"})})})]})]})}}]),s}(c.a.Component),E=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).setWall=function(e){a.setState({recipient:e,ChatScreenClass:"col-lg-9",MessageListClass:"col-lg-3 col-sm-12 contacts_col d-none d-lg-block"}),y.database().ref("posts/"+e.id).once("value",(function(t){t.val()?a.setState({wallData:t.val(),wall:e}):a.setState({wallData:"None",wall:e})}))},a.unSetWall=function(){a.setState({recipient:null,wallData:"None",wall:null,ChatScreenClass:"col-lg-9 d-none d-lg-block",MessageListClass:"col-lg-3 col-sm-12 contacts_col"})},a.setRec=function(e){a.setState({recipient:e,menu:"Chats",ChatScreenClass:"col-lg-9",MessageListClass:"col-lg-3 col-sm-12 contacts_col d-none d-lg-block"})},a.unSetRec=function(){a.setState({recipient:null,menu:"Chats",ChatScreenClass:"col-lg-9 d-none d-lg-block",MessageListClass:"col-lg-3 col-sm-12 contacts_col"})},a.setSettings=function(e){a.setState({settingsMenu:e,ChatScreenClass:"col-lg-9",MessageListClass:"col-lg-3 col-sm-12 contacts_col d-none d-lg-block"})},a.unSetSettings=function(){a.setState({settingsMenu:null,ChatScreenClass:"col-lg-9 d-none d-lg-block",MessageListClass:"col-lg-3 col-sm-12 contacts_col"})},a.mapMode=function(){a.setState({menu:"Friends-Map",recipient:null,ChatScreenClass:"col-lg-9",MessageListClass:"col-lg-3 col-sm-12 contacts_col d-none d-lg-block"})},a.unSetMapMode=function(){a.setState({recipient:null,menu:"Chats",ChatScreenClass:"col-lg-9 d-none d-lg-block",MessageListClass:"col-lg-3 col-sm-12 contacts_col"})},a.logout=function(){y.auth().signOut().then((function(){})).catch((function(e){}))},a.addRecord=function(e){var t=new Date;t=t.getTime(),y.database().ref("users/"+a.state.user.uid+"/friends/"+e).set({time:t},(function(e){e&&console.log(e)})),y.database().ref("users/"+e+"/friends/"+a.state.user.uid).set({time:t},(function(e){e&&console.log(e)}))},a.searchUsers=function(){a.setState({searched:null,error:null}),fetch("https://garnet-gregarious-robe.glitch.me/SearchUserByMail?email="+a.state.fid).then((function(e){return e.json()})).then((function(e){200===e.status?a.setState({searched:e.record}):404===e.status&&a.setState({error:"User Not Found"})}))},a.addFriend=function(){fetch("https://garnet-gregarious-robe.glitch.me/AddFriend?uid="+a.state.user.uid+"&fid="+a.state.searched.uid).then((function(e){return e.json()})).then((function(e){if(200===e.status){var t=new Date,s=String(t.getDate()).padStart(2,"0"),c=String(t.getMonth()+1).padStart(2,"0"),n=t.getFullYear();t=c+"/"+s+"/"+n,fetch("https://garnet-gregarious-robe.glitch.me/send?from="+a.state.user.uid+"&to="+a.state.searched.uid+"&message=Became Friends on "+t).then((function(e){return e.json()})).then((function(e){200===e.status?(a.setState({addFriendStatus:"Added",addFriendClass:"btn btn-success"}),console.log("Friend Added")):404===e.status&&console.error(e)}))}else 404===e.status&&a.setState("Error")}))},a.occupantDupe=function(e){for(var t=0;t<a.state.occupants.length;t++)if(a.state.occupants[t].id===e)return 1;return 0},a.renderFriends=function(e){y.database().ref("users/"+e.uid+"/friends").on("value",(function(e){if(console.log("friends"),e.val()){var t=e.val(),s=Object.entries(t);for(var c in s)fetch("https://garnet-gregarious-robe.glitch.me/FetchUser?uid="+s[c][0]).then((function(e){return e.json()})).then((function(e){console.log(e),200===e.status?a.occupantDupe(e.record.uid)||a.setState({occupants:a.state.occupants.concat({id:e.record.uid,displayName:e.record.displayName,displayPicture:e.record.photoURL})}):404===e.status&&console.log("error")}))}}))},a.getChats=function(){var e=y.database().ref("users/"+a.state.user.uid+"/messages/");e.on("value",(function(e){a.setState({chatData:e.val()}),console.log("On",e.val())})),e.on("child_changed",(function(e){var t=a.state.recipient?a.state.recipient.id:null;console.log(e.key,t),e.key!==t&&(console.log("Message Received"),console.log("message-list-"+e.key)),console.log("child_changed",e.key,e.val())}))},a.success=function(e){var t=e.coords;y.database().ref("location/"+a.state.user.uid).set({latitude:t.latitude,longitude:t.longitude}),console.log("Your current position is:"),console.log("Latitude : ".concat(t.latitude)),console.log("Longitude: ".concat(t.longitude)),console.log("More or less ".concat(t.accuracy," meters."))},a.errors=function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},a.getLocation=function(){if(navigator.geolocation){var e={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};navigator.permissions.query({name:"geolocation"}).then((function(t){"granted"===t.state?(console.log(t.state),navigator.geolocation.getCurrentPosition(a.success)):"prompt"===t.state?navigator.geolocation.getCurrentPosition(a.success,a.errors,e):t.state,t.onchange=function(){console.log(t.state)}}))}else alert("Sorry Not available!")},a.componentDidMount=function(){y.auth().onAuthStateChanged((function(e){e?(a.setState({user:e}),a.renderFriends(e),a.getChats()):a.props.history.push("/login")}))},a.fidTyped=function(e){a.setState({fid:e.target.value})},a.state={user:null,occupants:[],message:null,sms:[],fid:"",recipient:null,menu:"Chats",searched:null,error:null,friends:null,settingsMenu:null,chatData:null,wall:null,wallData:null,addFriendStatus:"Add",addFriendClass:"btn btn-primary",ChatScreenClass:"col-lg-9 d-none d-lg-block",MessageListClass:"col-lg-3 col-sm-12 contacts_col"},a}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return this.state.user&&this.state.occupants.length?Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"row",style:{height:"100vh"},children:[Object(j.jsx)("div",{className:this.state.MessageListClass,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("h1",{className:"title_font",children:"Instance"})}),Object(j.jsxs)("div",{className:"row add-friends",children:[Object(j.jsx)("div",{className:"col icon-box",children:Object(j.jsxs)("svg",{onClick:function(){return e.setState({menu:"Chats",recipient:null})},className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.001 512.001",children:[Object(j.jsx)("path",{d:"M468.53 306.575c-4.14-10.239-15.798-15.188-26.038-11.046-10.241 4.14-15.187 15.797-11.047 26.038L455 379.833l-69.958-30.839a20.002 20.002 0 00-15.917-.095c-23.908 10.201-49.52 15.373-76.124 15.373-107.073 0-179-83.835-179-162.136 0-89.402 80.299-162.136 179-162.136s179 72.734 179 162.136c0 6.975-.65 15.327-1.781 22.913-1.63 10.925 5.905 21.102 16.83 22.732 10.926 1.634 21.103-5.905 22.732-16.83 1.431-9.59 2.219-19.824 2.219-28.815 0-54.33-23.006-105.308-64.783-143.543C405.936 20.809 351.167 0 293.001 0S180.067 20.809 138.784 58.592c-37.332 34.168-59.66 78.516-63.991 126.335C27.836 216.023.001 265.852.001 319.525c0 33.528 10.563 65.34 30.67 92.717L1.459 484.504a19.998 19.998 0 004.621 21.855 19.989 19.989 0 0021.988 3.942l84.229-37.13c21.188 7.887 43.585 11.88 66.703 11.88.5 0 .991-.039 1.482-.075 33.437-.253 65.944-9.048 94.098-25.507 25.218-14.744 45.962-34.998 60.505-58.917a230.144 230.144 0 0041.547-11.551l107.301 47.3a20 20 0 0021.989-3.942 19.998 19.998 0 004.621-21.855L468.53 306.575zM179.002 445c-.273 0-.539.03-.81.041-20.422-.104-40.078-4.118-58.435-11.95a19.991 19.991 0 00-15.916.095l-46.837 20.646 15.109-37.375a20.001 20.001 0 00-3.322-20.47c-18.835-22.097-28.79-48.536-28.79-76.462 0-31.961 13.445-62.244 36.969-85.206 7.324 39.925 27.989 78.117 59.162 108.119 38.791 37.333 90.101 58.961 145.506 61.565C255.626 429.608 218.402 445 179.002 445z"}),Object(j.jsx)("circle",{cx:292.001,cy:203,r:20}),Object(j.jsx)("circle",{cx:372.001,cy:203,r:20}),Object(j.jsx)("circle",{cx:212.001,cy:203,r:20})]})}),Object(j.jsx)("div",{className:"col icon-box",children:Object(j.jsxs)("svg",{onClick:function(){return e.mapMode()},className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.032 512.032",children:[Object(j.jsx)("path",{d:"M496.016 224c-8.832 0-16 7.168-16 16v181.184l-128 51.2V304c0-8.832-7.168-16-16-16s-16 7.168-16 16v168.352l-128-51.2V167.648l74.144 29.664c8.096 3.264 17.504-.704 20.8-8.928 3.296-8.192-.704-17.504-8.928-20.8l-95.776-38.336h-.032l-.256-.096a15.87 15.87 0 00-11.872 0l-.288.096h-.032L10.064 193.152A16.005 16.005 0 00.016 208v288c0 5.312 2.656 10.272 7.04 13.248a15.892 15.892 0 008.96 2.752c2.016 0 4.032-.384 5.952-1.152l154.048-61.6 153.76 61.504h.032l.288.128a15.87 15.87 0 0011.872 0l.288-.128h.032L502 446.88c6.016-2.464 10.016-8.32 10.016-14.88V240c0-8.832-7.168-16-16-16zm-336 197.152l-128 51.2V218.816l128-51.2v253.536zM400.016 64c-26.464 0-48 21.536-48 48s21.536 48 48 48 48-21.536 48-48-21.536-48-48-48zm0 64c-8.832 0-16-7.168-16-16s7.168-16 16-16 16 7.168 16 16-7.168 16-16 16z"}),Object(j.jsx)("path",{d:"M400.016 0c-61.76 0-112 50.24-112 112 0 57.472 89.856 159.264 100.096 170.688 3.04 3.36 7.36 5.312 11.904 5.312s8.864-1.952 11.904-5.312C422.16 271.264 512.016 169.472 512.016 112c0-61.76-50.24-112-112-112zm0 247.584c-34.944-41.44-80-105.056-80-135.584 0-44.096 35.904-80 80-80s80 35.904 80 80c0 30.496-45.056 94.144-80 135.584z"})]})}),Object(j.jsx)("div",{className:"col icon-box",children:Object(j.jsxs)("svg",{onClick:function(){e.setState({menu:"Add Friends"})},className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[Object(j.jsx)("path",{d:"M367.57 256.909a260.207 260.207 0 00-30.093-12.081C370.56 219.996 392 180.455 392 136 392 61.01 330.991 0 256 0S120 61.01 120 136c0 44.504 21.488 84.084 54.633 108.911-30.368 9.998-58.863 25.555-83.803 46.069-45.732 37.617-77.529 90.086-89.532 147.743-3.762 18.066.745 36.622 12.363 50.908C25.222 503.847 42.365 512 60.693 512H307c11.046 0 20-8.954 20-20s-8.954-20-20-20H60.693c-8.538 0-13.689-4.766-15.999-7.606-3.989-4.905-5.533-11.29-4.236-17.519 20.755-99.695 108.691-172.521 210.24-174.977a137.229 137.229 0 0010.656-.002c31.12.73 61.05 7.832 89.044 21.14 9.977 4.74 21.907.499 26.649-9.478 4.742-9.976.5-21.907-9.477-26.649zm-106.692-25.032a260.16 260.16 0 00-9.718.002C200.465 229.35 160 187.312 160 136c0-52.935 43.065-96 96-96s96 43.065 96 96c0 51.299-40.445 93.329-91.122 95.877z"}),Object(j.jsx)("path",{d:"M492 397h-55v-55c0-11.046-8.954-20-20-20s-20 8.954-20 20v55h-55c-11.046 0-20 8.954-20 20s8.954 20 20 20h55v55c0 11.046 8.954 20 20 20s20-8.954 20-20v-55h55c11.046 0 20-8.954 20-20s-8.954-20-20-20z"})]})}),Object(j.jsx)("div",{className:"col icon-box",children:Object(j.jsx)("svg",{onClick:function(){e.setState({menu:"Posts"})},className:"sidebar-icons",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 431.972 431.972",children:Object(j.jsx)("path",{d:"M393.146 14.279c-3.713-5.333-8.713-9.233-14.989-11.707A31.606 31.606 0 00365.592.004V0H66.378c-4.377 0-8.562.857-12.56 2.568-6.28 2.472-11.278 6.377-14.989 11.707-3.71 5.33-5.568 11.228-5.568 17.701v368.019c0 6.475 1.858 12.371 5.568 17.706 3.711 5.329 8.709 9.233 14.989 11.704a31.577 31.577 0 0012.56 2.566c8.949 0 16.844-3.142 23.698-9.418l125.91-121.062 125.91 121.065c6.663 6.081 14.562 9.127 23.695 9.127 4.76 0 8.948-.756 12.565-2.279 6.276-2.471 11.276-6.375 14.989-11.711 3.71-5.328 5.564-11.225 5.564-17.699V31.98c.001-6.473-1.857-12.371-5.563-17.701zm-30.98 376.86L241.397 275.224l-25.411-24.264-25.409 24.264L69.809 391.139V36.549h292.357v354.59z"})})}),Object(j.jsx)("div",{className:"col icon-box",children:Object(j.jsxs)("svg",{onClick:function(){return e.setState({menu:"Settings"})},className:"sidebar-icons",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:[Object(j.jsx)("path",{d:"M272.066 512h-32.133c-25.989 0-47.134-21.144-47.134-47.133v-10.871a206.698 206.698 0 01-32.097-13.323l-7.704 7.704c-18.659 18.682-48.548 18.134-66.665-.007l-22.711-22.71c-18.149-18.129-18.671-48.008.006-66.665l7.698-7.698A206.714 206.714 0 0158.003 319.2h-10.87C21.145 319.2 0 298.056 0 272.067v-32.134C0 213.944 21.145 192.8 47.134 192.8h10.87a206.755 206.755 0 0113.323-32.097L63.623 153c-18.666-18.646-18.151-48.528.006-66.665l22.713-22.712c18.159-18.184 48.041-18.638 66.664.006l7.697 7.697A206.893 206.893 0 01192.8 58.003v-10.87C192.8 21.144 213.944 0 239.934 0h32.133C298.056 0 319.2 21.144 319.2 47.133v10.871a206.698 206.698 0 0132.097 13.323l7.704-7.704c18.659-18.682 48.548-18.134 66.665.007l22.711 22.71c18.149 18.129 18.671 48.008-.006 66.665l-7.698 7.698a206.714 206.714 0 0113.323 32.097h10.87c25.989 0 47.134 21.144 47.134 47.133v32.134c0 25.989-21.145 47.133-47.134 47.133h-10.87a206.755 206.755 0 01-13.323 32.097l7.704 7.704c18.666 18.646 18.151 48.528-.006 66.665l-22.713 22.712c-18.159 18.184-48.041 18.638-66.664-.006l-7.697-7.697a206.893 206.893 0 01-32.097 13.323v10.871c0 25.987-21.144 47.131-47.134 47.131zM165.717 409.17a176.812 176.812 0 0045.831 19.025 14.999 14.999 0 0111.252 14.524v22.148c0 9.447 7.687 17.133 17.134 17.133h32.133c9.447 0 17.134-7.686 17.134-17.133v-22.148a14.999 14.999 0 0111.252-14.524 176.812 176.812 0 0045.831-19.025 15 15 0 0118.243 2.305l15.688 15.689c6.764 6.772 17.626 6.615 24.224.007l22.727-22.726c6.582-6.574 6.802-17.438.006-24.225l-15.695-15.695a15 15 0 01-2.305-18.242 176.78 176.78 0 0019.024-45.831 15 15 0 0114.524-11.251h22.147c9.447 0 17.134-7.686 17.134-17.133v-32.134c0-9.447-7.687-17.133-17.134-17.133H442.72a15 15 0 01-14.524-11.251 176.815 176.815 0 00-19.024-45.831 15 15 0 012.305-18.242l15.689-15.689c6.782-6.774 6.605-17.634.006-24.225l-22.725-22.725c-6.587-6.596-17.451-6.789-24.225-.006l-15.694 15.695a15 15 0 01-18.243 2.305 176.812 176.812 0 00-45.831-19.025 14.999 14.999 0 01-11.252-14.524v-22.15c0-9.447-7.687-17.133-17.134-17.133h-32.133c-9.447 0-17.134 7.686-17.134 17.133v22.148a14.999 14.999 0 01-11.252 14.524 176.812 176.812 0 00-45.831 19.025 15.002 15.002 0 01-18.243-2.305l-15.688-15.689c-6.764-6.772-17.627-6.615-24.224-.007l-22.727 22.726c-6.582 6.574-6.802 17.437-.006 24.225l15.695 15.695a15 15 0 012.305 18.242 176.78 176.78 0 00-19.024 45.831 15 15 0 01-14.524 11.251H47.134C37.687 222.8 30 230.486 30 239.933v32.134c0 9.447 7.687 17.133 17.134 17.133h22.147a15 15 0 0114.524 11.251 176.815 176.815 0 0019.024 45.831 15 15 0 01-2.305 18.242l-15.689 15.689c-6.782 6.774-6.605 17.634-.006 24.225l22.725 22.725c6.587 6.596 17.451 6.789 24.225.006l15.694-15.695c3.568-3.567 10.991-6.594 18.244-2.304z"}),Object(j.jsx)("path",{d:"M256 367.4c-61.427 0-111.4-49.974-111.4-111.4S194.573 144.6 256 144.6 367.4 194.574 367.4 256 317.427 367.4 256 367.4zm0-192.8c-44.885 0-81.4 36.516-81.4 81.4s36.516 81.4 81.4 81.4 81.4-36.516 81.4-81.4-36.515-81.4-81.4-81.4z"})]})})]}),Object(j.jsx)("div",{style:{textAlign:"center"},children:Object(j.jsx)("label",{className:"sub_Heading",style:{margin:"0px 15px"},children:this.state.menu})}),("Chats"===this.state.menu||"Friends-Map"===this.state.menu)&&Object(j.jsx)("div",{children:Object(j.jsx)(g,{users:this.state.occupants,type:"request",setRec:this.setRec,chatData:this.state.chatData})}),"Posts"===this.state.menu&&Object(j.jsx)(P,{user:this.state.user,friends:this.state.occupants,setWall:this.setWall}),"Settings"===this.state.menu&&Object(j.jsx)(M,{setSettings:this.setSettings,logout:this.logout}),"Add Friends"===this.state.menu&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"search shadow",children:Object(j.jsxs)("div",{className:"input-group add-friends-input",children:[Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:this.fidTyped,value:this.state.fid}),Object(j.jsx)("div",{className:"input-group-append",children:Object(j.jsx)("button",{className:"btn btn-dark",type:"button",onClick:this.searchUsers,children:Object(j.jsx)("svg",{fill:"white",width:"20px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.005 512.005",children:Object(j.jsx)("path",{d:"M505.749 475.587l-145.6-145.6c28.203-34.837 45.184-79.104 45.184-127.317C405.333 90.926 314.41.003 202.666.003S0 90.925 0 202.669s90.923 202.667 202.667 202.667c48.213 0 92.48-16.981 127.317-45.184l145.6 145.6c4.16 4.16 9.621 6.251 15.083 6.251s10.923-2.091 15.083-6.251c8.341-8.341 8.341-21.824-.001-30.165zM202.667 362.669c-88.235 0-160-71.765-160-160s71.765-160 160-160 160 71.765 160 160-71.766 160-160 160z"})})})})]})}),this.state.searched&&Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"row messages_list_item shadow",children:[Object(j.jsx)("div",{className:"col",style:{padding:"0px"},children:Object(j.jsx)("img",{alt:"DP",className:"add-friend-tile",src:this.state.searched.photoURL})}),Object(j.jsxs)("div",{className:"col",style:{alignSelf:"center"},children:[Object(j.jsx)("label",{className:"add-friends-name",children:this.state.searched.displayName}),Object(j.jsxs)("button",{className:this.state.addFriendClass,onClick:this.addFriend,children:[this.state.addFriendStatus,Object(j.jsxs)("svg",{className:"add-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:[Object(j.jsx)("path",{d:"M367.57 256.909a260.207 260.207 0 00-30.093-12.081C370.56 219.996 392 180.455 392 136 392 61.01 330.991 0 256 0S120 61.01 120 136c0 44.504 21.488 84.084 54.633 108.911-30.368 9.998-58.863 25.555-83.803 46.069-45.732 37.617-77.529 90.086-89.532 147.743-3.762 18.066.745 36.622 12.363 50.908C25.222 503.847 42.365 512 60.693 512H307c11.046 0 20-8.954 20-20s-8.954-20-20-20H60.693c-8.538 0-13.689-4.766-15.999-7.606-3.989-4.905-5.533-11.29-4.236-17.519 20.755-99.695 108.691-172.521 210.24-174.977a137.229 137.229 0 0010.656-.002c31.12.73 61.05 7.832 89.044 21.14 9.977 4.74 21.907.499 26.649-9.478 4.742-9.976.5-21.907-9.477-26.649zm-106.692-25.032a260.16 260.16 0 00-9.718.002C200.465 229.35 160 187.312 160 136c0-52.935 43.065-96 96-96s96 43.065 96 96c0 51.299-40.445 93.329-91.122 95.877z"}),Object(j.jsx)("path",{d:"M492 397h-55v-55c0-11.046-8.954-20-20-20s-20 8.954-20 20v55h-55c-11.046 0-20 8.954-20 20s8.954 20 20 20h55v55c0 11.046 8.954 20 20 20s20-8.954 20-20v-55h55c11.046 0 20-8.954 20-20s-8.954-20-20-20z"})]})]})]})]})}),this.state.error&&Object(j.jsx)("div",{className:"col",style:{textAlign:"center",padding:"10px"},children:Object(j.jsx)("div",{className:"col-12",style:{margin:"10px 0px"},children:Object(j.jsx)("p",{className:"message-list-name",children:this.state.error})})})]})]})}),Object(j.jsxs)("div",{className:this.state.ChatScreenClass,style:{padding:"0px"},children:["Chats"===this.state.menu&&!this.state.recipient&&Object(j.jsx)("div",{className:"chat-col",style:{justifyContent:"center"},children:Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("h1",{className:"title_font",style:{color:"black",fontSize:"100px"},children:"Chats"}),Object(j.jsx)("h2",{style:{fontSize:"20px",marginTop:"-25px",fontStyle:"italic"},children:"Click a friend to view his Chats"})]})}),this.state.recipient&&"Chats"===this.state.menu&&Object(j.jsx)(k,{name:this.state.recipient,userid:this.state.user.uid,data:this.state.chatData,unSetRec:this.unSetRec}),"Friends-Map"===this.state.menu&&Object(j.jsx)(A,{uid:this.state.user.uid,unSetMapMode:this.unSetMapMode}),"Add Friends"===this.state.menu&&Object(j.jsx)(z,{uid:this.state.user.uid}),"Posts"===this.state.menu&&Object(j.jsx)(R,{name:this.state.recipient,uid:this.state.user.uid,wall:this.state.wall,wallData:this.state.wallData,unSetWall:this.unSetWall}),"Settings"===this.state.menu&&Object(j.jsx)(F,{uid:this.state.user.uid,menu:this.state.settingsMenu,unSetSettings:this.unSetSettings})]})]})}):Object(j.jsxs)("div",{className:"LoadingPage",children:[Object(j.jsx)("div",{className:"loading",children:Object(j.jsx)("div",{class:"loader"})}),Object(j.jsx)("div",{children:"Fetching Data..."})]})}}]),s}(c.a.Component),I=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(j.jsx)(u.a,{children:Object(j.jsxs)(h.d,{children:[Object(j.jsx)(h.b,{exact:!0,path:"/",children:Object(j.jsx)(h.a,{to:"/chats"})}),Object(j.jsx)(h.b,{path:"/join",component:m}),Object(j.jsx)(h.b,{path:"/signup",component:S}),Object(j.jsx)(h.b,{path:"/login",component:C}),Object(j.jsx)(h.b,{path:"/chats",component:E}),Object(j.jsx)(h.b,{path:"/room/:roomid/:userid",component:x})]})})}}]),s}(c.a.Component);i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(I,{})}),document.getElementById("root"))},20:function(e,t,s){},70:function(e,t,s){}},[[113,1,2]]]);
//# sourceMappingURL=main.78f007e3.chunk.js.map